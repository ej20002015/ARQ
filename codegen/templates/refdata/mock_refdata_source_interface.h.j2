{#
  // codegen-metadata
  // output_path: ARQLib/t_ARQ/inc/mock_refdata_source_interface.h
#}
// THIS FILE IS AUTO-GENERATED BY THE CODE-GEN SCRIPT. DO NOT EDIT.
// Defines a mock interface for a ClickHouse Reference Data source to be used when testing.

#pragma once
#include <gtest/gtest.h>
#include <gmock/gmock.h>

#include <ARQUtils/time.h>
#include <ARQCore/refdata_entities.h>
#include <ARQCore/refdata_source_interface.h>

namespace ARQ
{

class MockRefDataSource : public RefDataSource
{
public:
	virtual ~MockRefDataSource() = default;

    {% for entity in entities %}
    // --- Mock Methods for {{ entity.name }} ({{ entity.type_string }}) ---
    MOCK_METHOD( std::vector<RDEntities::{{ entity.name }}>, fetch{{ entity.name_plural }}, (), ( override ) );
    MOCK_METHOD( std::optional<RDEntities::{{ entity.name }}>, fetch{{ entity.name }}, ( const RDEntities::Traits<RDEntities::{{ entity.name }}>::KeyType& {{ entity.key }} ), ( override ) );
    MOCK_METHOD( std::vector<RDEntities::{{ entity.name }}>, fetchAsOf{{ entity.name_plural }}, ( const Time::DateTime asof ), ( override ) );
    MOCK_METHOD( void, upsert{{ entity.name_plural }}, ( const std::vector<RDEntities::{{ entity.name }}>& data ), ( override ) );

    {% endfor %}
};

}