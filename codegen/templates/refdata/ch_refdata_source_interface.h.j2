{#
  // codegen-metadata
  // output_path: TMQLib/TMQClickHouse/inc/ch_refdata_source_interface.h
#}
// THIS FILE IS AUTO-GENERATED BY THE CODE-GEN SCRIPT. DO NOT EDIT.
// Defines the interface for a ClickHouse Reference Data source.

#pragma once
#include <TMQClickHouse/dll.h>

#include <TMQCore/refdata_entities.h>
#include <TMQCore/refdata_source_interface.h>

namespace TMQ
{

class CHRefDataSource : public RefDataSource
{
public:
	virtual ~CHRefDataSource() = default;

    {% for entity in entities %}
    // --- Methods for {{ entity.name }} ({{ entity.type_string }}) ---
    [[nodiscard]] TMQClickHouse_API std::vector<RDEntities::{{ entity.name }}> fetchLatest{{ entity.name_plural }}() override;
    [[nodiscard]] TMQClickHouse_API std::vector<RDEntities::{{ entity.name }}> fetchAsOf{{ entity.name_plural }}( std::chrono::system_clock::time_point asof ) override;
    TMQClickHouse_API void insert{{ entity.name_plural }}( const std::vector<RDEntities::{{ entity.name }}>& data ) override;

    {% endfor %}
};

}