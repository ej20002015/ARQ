{#
  // codegen-metadata
  // output_path: TMQLib/TMQCore/inc/mktdata_source_interface.h
#}
// THIS FILE IS AUTO-GENERATED BY THE CODE-GEN SCRIPT. DO NOT EDIT.
// Defines the abstract interface for a Market Data source.

#pragma once
#include <TMQCore/dll.h>

#include <TMQCore/mktdata_entities.h>

#include <vector>
#include <optional>

namespace TMQ
{

class MktDataSource
{
public:
	virtual ~MktDataSource() = default;

    {# Loop through each entity and create the required pure virtual methods #}
    {% for entity in entities %}
    // --- Methods for {{ entity.name }} ({{ entity.type_string }}) ---
    [[nodiscard]] TMQCore_API virtual std::vector<MDEntities::{{ entity.name }}> fetch{{ entity.name_plural }}( const std::string_view mktName ) = 0;
    [[nodiscard]] TMQCore_API virtual std::optional<MDEntities::{{ entity.name }}> fetch{{ entity.name }}( const std::string_view mktName, const std::string_view ID ) = 0;
    TMQCore_API virtual void insert{{ entity.name_plural }}( const std::vector<MDEntities::{{ entity.name }}>& data, const std::string_view mktName ) = 0;

    {% endfor %}
};

}