{#
  // codegen-metadata
  // output_path: TMQLib/t_TMQ/inc/mock_mktdata_source_interface.h
#}
// THIS FILE IS AUTO-GENERATED BY THE CODE-GEN SCRIPT. DO NOT EDIT.
// Defines a mock interface for a ClickHouse Market Data source to be used when testing.

#pragma once
#include <gtest/gtest.h>
#include <gmock/gmock.h>

#include <TMQCore/refdata_entities.h>
#include <TMQCore/refdata_source_interface.h>

namespace TMQ
{

class MockMktDataSource : public MktDataSource
{
public:
	virtual ~MockMktDataSource() = default;

    {% for entity in entities %}
    // --- Mock Methods for {{ entity.name }} ({{ entity.type_string }}) ---
    MOCK_METHOD( std::vector<MDEntities::{{ entity.name }}>, fetch{{ entity.name_plural }}, ( const std::string_view mktName ), ( override ) );
    MOCK_METHOD( std::optional<MDEntities::{{ entity.name }}>, fetch{{ entity.name }}, ( const std::string_view mktName, const std::string_view ID ), ( override ) );
    MOCK_METHOD( void, insert{{ entity.name_plural }}, ( const std::vector<MDEntities::{{ entity.name }}>& data, const std::string_view mktName ), ( override ) );

    {% endfor %}
};

}